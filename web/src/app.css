@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
	--color-crimson-pulse: #C62828;
	--color-ruby-ember: #D32F2F;
	--color-match-green: #1DB954;
	--color-dislike-gray: #9E9E9E;
	
	/* Dark theme (default) */
	--color-bg-dark: #121212;
	--color-card-dark: #1E1E1E;
	--color-text-light: #F8F8F8;
	
	/* Light theme (soft grey, not pure white) */
	--color-bg-light: #f3f4f6;
	--color-text-dark: #222222;
}

:root {
	/* Default to dark theme */
	--color-bg: var(--color-bg-dark);
	--color-card: var(--color-card-dark);
	--color-text: var(--color-text-light);
}

[data-theme='light'] {
	--color-bg: var(--color-bg-light);
	--color-card: #FFFFFF;
	--color-text: var(--color-text-dark);
}

[data-theme='dark'] {
	--color-bg: var(--color-bg-dark);
	--color-card: var(--color-card-dark);
	--color-text: var(--color-text-light);
}

* {
	box-sizing: border-box;
}

body {
	font-family: 'Inter', 'Roboto', 'Helvetica Neue', 'Arial', sans-serif;
	background-color: var(--color-bg);
	color: var(--color-text);
	margin: 0;
	padding: 0;
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

/* Card styles */
.card {
	background-color: var(--color-card);
	border-radius: 16px;
	box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
}

[data-theme='dark'] .card {
	box-shadow: none;
	border: 1px solid rgba(255, 255, 255, 0.1);
}

/* Button styles */
.btn-circle {
	border-radius: 50%;
	width: 56px;
	height: 56px;
	display: flex;
	align-items: center;
	justify-content: center;
	border: none;
	cursor: pointer;
	transition: transform 180ms ease, opacity 180ms ease;
}

.btn-circle:active {
	transform: scale(0.95);
}

.btn-rounded {
	border-radius: 12px;
	padding: 12px 24px;
	border: none;
	cursor: pointer;
	font-weight: 500;
	transition: all 180ms ease;
}

/* Swipe animations */
.swipe-card {
	transition: transform 300ms ease-out, opacity 300ms ease-out;
	touch-action: pan-y;
}

.swipe-card.swiping {
	transition: none;
}

/* Smooth transitions */
* {
	transition: background-color 200ms ease, color 200ms ease, border-color 200ms ease;
}

/* Custom height for mobile navbar */
.h-19 {
	height: 4.75rem; /* 76px */
}

.pb-19 {
	padding-bottom: 4.75rem; /* 76px */
}

.mb-19 {
	margin-bottom: 4.75rem; /* 76px */
}

/* Custom scrollbar styling */
::-webkit-scrollbar {
	width: 8px;
	height: 8px;
}

::-webkit-scrollbar-track {
	background: var(--color-bg-dark);
}

::-webkit-scrollbar-thumb {
	background: var(--color-crimson-pulse);
	border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
	background: var(--color-ruby-ember);
}

/* Firefox scrollbar */
* {
	scrollbar-width: thin;
	scrollbar-color: var(--color-crimson-pulse) var(--color-bg-dark);
}

/* Card container responsive height - ensures card fits between top and navbar */
.card-container {
	height: 600px; /* Mobile default */
	display: flex;
	flex-direction: column;
	align-items: center;
}

/* Mobile: Ensure buttons are below card, not overlapping */
.card-container .swipe-card-wrapper {
	display: flex;
	flex-direction: column;
	align-items: center;
	gap: 0.5rem; /* Reduced gap - buttons closer to card */
	width: 100%;
}

/* Mobile: Position buttons below card with more spacing between them */
.card-container .swipe-card-wrapper .action-buttons-mobile {
	position: relative;
	margin-top: 0.5rem; /* Reduced margin - buttons closer to card */
	margin-bottom: 0;
	gap: 1rem !important; /* More space between buttons on mobile */
}

@media (min-width: 768px) {
	.card-container {
		position: relative !important;
		/* Slightly shorter than full space between top bar and navbar */
		height: calc(100vh - 4.75rem - 4.75rem - 1.5rem) !important;
		max-height: calc(100vh - 4.75rem - 4.75rem - 1.5rem) !important;
		overflow: visible !important;
		display: flex !important;
		flex-direction: column !important;
		align-items: center !important;
		justify-content: flex-start !important;
		padding-top: 1rem; /* Small padding from top */
		/* Leave a bit more than navbar height so content clears the navbar visually */
		padding-bottom: 5.75rem !important;
	}
	
	/* Wrapper for card and buttons */
	.card-container .swipe-card-wrapper {
		display: flex !important;
		flex-direction: column !important;
		align-items: center !important;
		gap: 0.5rem !important; /* Small gap between card and buttons */
		width: 100%;
		max-width: 28rem;
		height: auto !important; /* Let content determine height */
		max-height: 100% !important; /* Don't exceed container */
		justify-content: flex-start !important; /* Start from top */
		overflow: visible !important; /* Ensure buttons are not clipped */
		min-height: 0 !important; /* Allow flexbox to shrink if needed */
		flex-shrink: 1 !important; /* Allow wrapper to shrink */
	}
	
	/* Scale the entire card proportionally (both width and height) */
	.card-container .swipe-card-wrapper .swipe-card {
		transform-origin: top center; /* Scale from top center so it stays at top */
		width: 100%;
		max-width: 28rem; /* Base width */
		overflow: visible !important; /* Ensure swipe movement is visible */
		order: 1 !important; /* Ensure card comes before buttons */
		flex-shrink: 1 !important; /* Allow card to shrink if needed */
	}
	
	/* Ensure the card content maintains aspect ratio - keep bio inside card */
	.card-container .swipe-card-wrapper .swipe-card > div {
		height: 550px !important; /* Restore full card height so photo + bio fit */
		max-height: 550px !important;
		min-height: 550px !important;
		overflow: hidden !important; /* Keep bio inside card borders */
		display: flex !important;
		flex-direction: column !important;
	}
	
	/* Ensure bio section stays inside card - make text smaller to fit */
	.card-container .swipe-card-wrapper .swipe-card .card .p-6 {
		overflow: hidden !important;
		max-height: 100% !important;
		flex: 1 !important;
		display: flex !important;
		flex-direction: column !important;
		padding: 1rem !important; /* Smaller padding */
	}
	
	/* Reduce name size to make room for bio */
	.card-container .swipe-card-wrapper .swipe-card .card .p-6 h2 {
		font-size: 1.125rem !important; /* Smaller name (18px) */
		line-height: 1.3 !important;
		margin-bottom: 0.375rem !important;
	}
	
	.card-container .swipe-card-wrapper .swipe-card .card .p-6 p {
		font-size: 1rem !important; /* Larger bio text (16px) */
		line-height: 1.5 !important;
		overflow: hidden !important;
		text-overflow: ellipsis !important;
		display: -webkit-box !important;
		-webkit-line-clamp: 3 !important; /* Limit to 3 lines */
		-webkit-box-orient: vertical !important;
	}

	/* Desktop like/dislike buttons: below card-container, above navbar */
	.desktop-like-buttons {
		position: absolute; /* anchor to the right-hand content panel (relative ancestor) */
		bottom: 5.25rem; /* 4.75rem navbar height + 0.5rem gap */
		left: 50%;
		transform: translateX(-50%);
		display: flex;
		justify-content: center;
		align-items: center;
		gap: 3rem; /* more space between like/dislike buttons on desktop */
	}
	
	.desktop-like-buttons .btn-circle {
		width: 64px;
		height: 64px;
	}

	/* Ensure card has rounded corners on all sides */
	.card-container .swipe-card-wrapper .swipe-card .card {
		border-radius: 16px !important;
		overflow: hidden; /* Keep overflow hidden for photo, but rounded corners visible */
	}
	
	/* Ensure photo section respects rounded top corners */
	.card-container .swipe-card-wrapper .swipe-card .card > div:first-child {
		border-top-left-radius: 16px !important;
		border-top-right-radius: 16px !important;
		overflow: hidden;
	}
	
	/* Ensure photo image respects rounded corners */
	.card-container .swipe-card-wrapper .swipe-card .card img {
		border-top-left-radius: 16px !important;
		border-top-right-radius: 16px !important;
	}
}

